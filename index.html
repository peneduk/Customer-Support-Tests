<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Service Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* –®—Ä–∏—Ñ—Ç—ã –∏ –∑–∞–ø—Ä–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ */
        body {
            font-family: 'Montserrat', sans-serif;
        }

        /* –ó–∞–ø—Ä–µ—Ç–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø–æ –≤—Å–µ–º—É –¥–æ–∫—É–º–µ–Ω—Ç—É –∏ –æ—Ç–∫–ª—é—á–∏—Ç—å –¥–ª–∏–Ω–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
        html, body, * {
            -webkit-user-select: none !important;
            -moz-user-select: none !important;
            -ms-user-select: none !important;
            user-select: none !important;
            -webkit-touch-callout: none !important; /* iOS: –æ—Ç–∫–ª—é—á–∞–µ—Ç –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ –º–µ–Ω—é –ø—Ä–∏ –¥–æ–ª–≥–æ–º –Ω–∞–∂–∞—Ç–∏–∏ */
            -webkit-user-drag: none !important; /* –æ—Ç–∫–ª—é—á–∞–µ—Ç –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ iOS */
        }
    </style>
</head>
<body oncopy="return false" oncut="return false" oncontextmenu="return false" onselectstart="return false" ondragstart="return false">
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState } = React;
        
        // Lucide icons as simple components
        const CheckCircle = ({ className }) => (
            <svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
        );
        
        const XCircle = ({ className }) => (
            <svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
        );
        
        const RotateCcw = ({ className }) => (
            <svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
            </svg>
        );
        
        const Award = ({ className }) => (
            <svg className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
            </svg>
        );

        const QuizApp = () => {
            // Shuffle function
            const shuffleArray = (array) => {
                const newArray = [...array];
                for (let i = newArray.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
                }
                return newArray;
            };

            const [currentQuestion, setCurrentQuestion] = useState(0);
            const [selectedAnswer, setSelectedAnswer] = useState(null);
            const [showResult, setShowResult] = useState(false);
            const [score, setScore] = useState(0);
            const [answeredQuestions, setAnsweredQuestions] = useState([]);
            const [quizComplete, setQuizComplete] = useState(false);

            const originalQuestions = [
                {
                    id: 1,
                    type: "scenario",
                    question: "A customer calls saying they booked a ticket 3 hours ago and want to add extra baggage. When you check the booking, the status shows 'In ticketing'. What should you advise?",
                    options: [
                        "Submit a CSF for baggage allowance immediately",
                        "Suggest the customer to cancel and rebook with baggage included",
                        "Wait until the ticket is issued, then submit CSF",
                        "Tell them it's impossible to add baggage at this stage"
                    ],
                    correct: 1,
                    explanation: "When booking status is 'In ticketing', the ticket isn't issued yet. You should suggest canceling and rebooking because CSF is only applicable AFTER the ticket is issued."
                },
                {
                    id: 2,
                    type: "tricky",
                    question: "A customer paid for a CSF request but the payment link expired after 125 minutes. They want to use the same payment. What's the correct action?",
                    options: [
                        "Resend the payment email - the customer can still use it",
                        "Resubmit the entire CSF form to generate a new payment link",
                        "Ask the customer to wait, the link will reactivate automatically",
                        "Process the payment manually through the system"
                    ],
                    correct: 1,
                    explanation: "If the payment link expires (after 120 minutes), you MUST resubmit the form. Resending the email won't help because the time limit cannot be renewed."
                },
                {
                    id: 3,
                    type: "scenario",
                    question: "Flight change scenario: You open the form and see status 'Processing' with operation notice saying 'Awaiting airline confirmation'. The customer wants to confirm the protection flight. What do you do?",
                    options: [
                        "Inform passenger they can take the rescheduled flight",
                        "Go to Confirm flight change > select pax and submit",
                        "Wait for the status to change to Complete",
                        "Contact the airline directly for confirmation"
                    ],
                    correct: 1,
                    explanation: "When status is 'Processing' and the notice does NOT say 'Passenger self-confirmed', you should treat it same as Blank status: Confirm flight change > select pax and submit."
                },
                {
                    id: 4,
                    type: "policy",
                    question: "Customer booked a ticket 30 minutes ago on the US site. Departure is in 10 days. They changed their mind and want a full refund. Booking status: 'Awaiting payment'. What type of cancellation applies?",
                    options: [
                        "24h special refund (USBR legislation)",
                        "Voluntary refund with cancellation fee",
                        "Simple cancellation - money back within 10 business days",
                        "Void refund"
                    ],
                    correct: 2,
                    explanation: "The booking status is 'Awaiting payment' (before ticket issuance). You can simply cancel it and they'll receive money back within 10 business days. 24h special refund requires the ticket to be issued."
                },
                {
                    id: 5,
                    type: "tricky",
                    question: "Which of these scenarios does NOT qualify for CSF submission?",
                    options: [
                        "Booking status: 'Tickets issued' - customer wants wheelchair service",
                        "Booking status: 'Tickets partially cancelled' - customer wants meal",
                        "Booking status: 'Awaiting payment' - customer wants extra baggage",
                        "Booking status: 'Tickets issued' - customer wants seat selection"
                    ],
                    correct: 2,
                    explanation: "CSF requires booking status to be either 'Tickets issued' or 'Tickets partially cancelled'. 'Awaiting payment' means ticket isn't issued yet, so CSF cannot be submitted."
                },
                {
                    id: 6,
                    type: "scenario",
                    question: "Customer calls about flight change. Status shows 'Complete' with 'RR successful' next to passenger name. What's your response?",
                    options: [
                        "Click the form and check operation notice first",
                        "Confirm flight change > select pax and submit",
                        "Inform passenger they can take the flight",
                        "Select from Customer Requests tab"
                    ],
                    correct: 2,
                    explanation: "When status is 'Complete' and it says 'RR successful' or 'Manual RR succeed' BEFORE clicking the form, you simply inform pax to take the flight. No further action needed."
                },
                {
                    id: 7,
                    type: "policy",
                    question: "Customer booked 18 hours ago on BR site, departure in 9 days. Ticket is issued. They want full refund and mention '24-hour rule'. What do you check?",
                    options: [
                        "If Void option is available in refund types",
                        "The voluntary cancellation policy and fees",
                        "If they contacted within 24h of booking time",
                        "If the airline allows involuntary refunds"
                    ],
                    correct: 2,
                    explanation: "For 24h special refund: 1) Booked on US/BR/KR site ‚úì, 2) Contact within 24h of booking (18h ‚úì), 3) Departure in 7+ days ‚úì, 4) PAX mentions legislation ‚úì. However, you need to verify the contact time is actually within 24h of BOOKING time."
                },
                {
                    id: 8,
                    type: "tricky",
                    question: "Cancellation request submitted for 'Awaiting payment' status returns outcome: 'Cancellation request submitted'. What does this mean?",
                    options: [
                        "Cancellation definitely successful",
                        "Cancellation definitely failed - ticket was issued",
                        "It could be successful OR failed - if failed, we refund per airline policy then refund cancellation fee",
                        "System error - need to resubmit"
                    ],
                    correct: 2,
                    explanation: "'Cancellation request submitted' means it's pending - could be successful or failed. If it fails, we refund the ticket per airline policy, then refund the cancellation fee to customer."
                },
                {
                    id: 9,
                    type: "scenario",
                    question: "Customer needs illness refund. Ticket status: 'Open for use'. What's the correct order of actions?",
                    options: [
                        "Submit cancellation > ask for documents > inform about seat cancellation",
                        "Check KH > submit cancellation > ask for documents > inform timeframe",
                        "Check KH > ask for documents > inform about seat cancellation > read the disclaimer > submit cancellation",
                        "Ask for documents > check KH > submit cancellation > inform timeframe"
                    ],
                    correct: 2,
                    explanation: "For illness refund: 1) Check KH, 2) Ask for required documents, 3) Inform about seat cancellation, 4) Then submit the cancellation form. This specific order is important."
                },
                {
                    id: 10,
                    type: "policy",
                    question: "Customer wants to cancel issued ticket. You find 'Void' is not available as an option. What are the possible reasons?",
                    options: [
                        "Only because the airline doesn't offer void",
                        "Only because the void deadline has passed",
                        "Either the deadline passed OR the airline doesn't offer it",
                        "System error - void should always be available"
                    ],
                    correct: 2,
                    explanation: "If 'Void' option is not available, it's either because the deadline has passed OR the airline doesn't offer it. Both reasons are possible."
                },
                {
                    id: 11,
                    type: "tricky",
                    question: "Flight change status 'Complete', but no 'RR successful' message. You click the form and operation notice says 'Passenger self-confirmed'. Customer asks what to do. Your answer?",
                    options: [
                        "Follow operation notice and select from Customer Requests tab",
                        "Inform passenger they can take the rescheduled flight",
                        "Submit new confirmation request",
                        "Contact airline for manual confirmation"
                    ],
                    correct: 1,
                    explanation: "Status 'Complete' without 'RR successful' ‚Üí Click form ‚Üí If notice says 'Passenger self-confirmed', inform pax they can take the flight. If NOT, follow operation notice and select from Customer Requests."
                },
                {
                    id: 12,
                    type: "scenario",
                    question: "Customer booked yesterday on Korean site, departure in 8 days. Ticket issued. They just realized they booked wrong dates and want full refund without fees. They mention 24-hour cancellation law. What's the issue?",
                    options: [
                        "Departure must be in at least 10 days",
                        "Contact time exceeded 24 hours from booking",
                        "Korean site doesn't qualify for this refund",
                        "No issue - they qualify for 24h special refund"
                    ],
                    correct: 1,
                    explanation: "They booked YESTERDAY but calling now - this likely exceeds 24h from booking time. Requirement 2 states: 'Contact time is within 24h of booking time.' Even though KR site qualifies, the timing doesn't."
                },
                {
                    id: 13,
                    type: "policy",
                    question: "What must you inform the customer BEFORE submitting a CSF?",
                    options: [
                        "Price, disclaimer, and payment time limit (120 minutes)",
                        "Price, refund policy, and cancellation terms",
                        "Payment time limit and airline policy only",
                        "Price and that changes take 24 hours to process"
                    ],
                    correct: 0,
                    explanation: "Before submitting CSF, inform customer about: 1) The price, 2) The relevant disclaimer, 3) The payment time limit (120 minutes). These three things are mandatory."
                },
                {
                    id: 14,
                    type: "scenario",
                    question: "Airline gave customer special approval for refund due to extraordinary circumstances. Customer has the email proof. How do you process this?",
                    options: [
                        "Process the refund via the GDS",
                        "Submit as Involuntary refund - Flight change",
                        "Submit as Voluntary refund with special note",
                        "Contact airline first to verify the approval"
                    ],
                    correct: 2,
                    explanation: "If PAX has special approval from the airline, submit the cancellation under 'Special events refund'. This applies to any refund type where airline provided special approval."
                },
                {
                    id: 15,
                    type: "tricky",
                    question: "Booking status 'Not submitted', customer wants to cancel. What outcome will they receive?",
                    options: [
                        "Cancellation request submitted",
                        "Cancellation request successful",
                        "Cancellation request failed",
                        "Cannot cancel - must wait for ticket issuance"
                    ],
                    correct: 1,
                    explanation: "'Not submitted' is a pre-ticket issuance status (along with 'Awaiting payment' and 'In ticketing'). Cancellation for these statuses is typically successful, and money is refunded within 10 business days."
                },
                {
                    id: 16,
                    type: "scenario",
                    question: "Customer paid CSF 90 minutes ago but didn't receive confirmation. Payment link still works. What should you do?",
                    options: [
                        "Resend the payment email",
                        "Resubmit the CSF form",
                        "Wait - payment is processing",
                        "Ask customer to pay again"
                    ],
                    correct: 0,
                    explanation: "If customer wants the payment email sent again and the 120-minute limit hasn't passed (only 90 min), you can resend it. However, note that the time limit won't be renewed."
                },
                {
                    id: 17,
                    type: "policy",
                    question: "For 24h special refund, what if the 'Void' option is NOT available in the system?",
                    options: [
                        "Submit Involuntary refund and explain in notes",
                        "Submit Voluntary refund and tick '24h special refund' option",
                        "Contact supervisor - cannot process without Void option",
                        "Submit Special events refund"
                    ],
                    correct: 1,
                    explanation: "For 24h special refund: Submit same as void. If the option is not available, submit a Voluntary type of refund, and tick the 'USBR 24h special refund' option in the refund form."
                },
                {
                    id: 18,
                    type: "tricky",
                    question: "Flight change form status: 'Blank'. What does this mean and what should you do?",
                    options: [
                        "Form not yet processed - wait for it to change",
                        "Same as 'Awaiting processing' - Confirm flight change > select pax > submit",
                        "Error status - create new form",
                        "Customer hasn't made a choice yet - call them"
                    ],
                    correct: 1,
                    explanation: "Both 'Blank' and 'Awaiting processing' statuses are treated the same way: Click form number > scroll down > Confirm flight change > select pax and submit."
                },
                {
                    id: 19,
                    type: "scenario",
                    question: "Voluntary refund for issued ticket. System shows 'Unable to calculate refund amount'. What should you do?",
                    options: [
                        "Contact airline for manual calculation",
                        "Submit the cancellation form anyway",
                        "Ask customer to contact airline directly",
                        "Wait for system to update and calculate"
                    ],
                    correct: 1,
                    explanation: "The procedure states: 'If the system is unable to calculate, submit anyway.' You should still inform customer about the disclaimer and timeframe before submitting."
                },
                {
                    id: 20,
                    type: "policy",
                    question: "Which booking statuses allow you to override ticket policy and get a full refund?",
                    options: [
                        "Any status if you have airline approval",
                        "Only 'Awaiting payment' and 'Not submitted'",
                        "Any status before ticket issuance, OR any status if Void is available",
                        "Only if Void option is available"
                    ],
                    correct: 2,
                    explanation: "Full refund scenarios: 1) Before ticket issuance (Not submitted, Awaiting payment, In ticketing) - simple cancellation, OR 2) After issuance if Void is available. Void is the 'only possible way to override ticket policy' after issuance."
                }
            ];

            // Shuffle options for each question and track correct answer index
            const [questions] = useState(() => {
                return originalQuestions.map(q => {
                    const optionsWithIndex = q.options.map((opt, idx) => ({ text: opt, originalIndex: idx }));
                    const shuffledOptions = shuffleArray(optionsWithIndex);
                    const newCorrectIndex = shuffledOptions.findIndex(opt => opt.originalIndex === q.correct);
                    
                    return {
                        ...q,
                        options: shuffledOptions.map(opt => opt.text),
                        correct: newCorrectIndex
                    };
                });
            });

            const handleAnswer = (answerIndex) => {
                setSelectedAnswer(answerIndex);
                setShowResult(true);
                
                if (answerIndex === questions[currentQuestion].correct) {
                    setScore(score + 1);
                }
                
                setAnsweredQuestions([...answeredQuestions, {
                    question: currentQuestion,
                    correct: answerIndex === questions[currentQuestion].correct
                }]);
            };

            const handleNext = () => {
                if (currentQuestion < questions.length - 1) {
                    setCurrentQuestion(currentQuestion + 1);
                    setSelectedAnswer(null);
                    setShowResult(false);
                } else {
                    setQuizComplete(true);
                }
            };

            const resetQuiz = () => {
                setCurrentQuestion(0);
                setSelectedAnswer(null);
                setShowResult(false);
                setScore(0);
                setAnsweredQuestions([]);
                setQuizComplete(false);
            };

            const getScoreMessage = () => {
                const percentage = (score / questions.length) * 100;
                if (percentage >= 90) return "Outstanding! You're a customer service expert! üåü";
                if (percentage >= 75) return "Great job! You know your policies well! üëè";
                if (percentage >= 60) return "Good work! Review the tricky areas to improve. üìö";
                return "Keep studying! This material is challenging but you'll get there! üí™";
            };

            if (quizComplete) {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4 sm:p-8">
                        <div className="max-w-2xl mx-auto bg-white rounded-2xl shadow-2xl p-6 sm:p-8">
                            <div className="text-center">
                                <Award className="w-16 h-16 sm:w-20 sm:h-20 mx-auto text-yellow-500 mb-4" />
                                <h2 className="text-2xl sm:text-3xl font-bold text-gray-800 mb-4">Quiz Complete!</h2>
                                <div className="text-5xl sm:text-6xl font-bold text-indigo-600 mb-4">
                                    {score}/{questions.length}
                                </div>
                                <p className="text-lg sm:text-xl text-gray-600 mb-8">{getScoreMessage()}</p>
                                
                                <div className="bg-gray-50 rounded-lg p-4 sm:p-6 mb-6">
                                    <h3 className="font-semibold text-base sm:text-lg mb-4 text-gray-800">Your Performance:</h3>
                                    <div className="grid grid-cols-2 gap-3 sm:gap-4 text-left">
                                        <div>
                                            <p className="text-sm sm:text-base text-gray-600">Correct Answers:</p>
                                            <p className="text-xl sm:text-2xl font-bold text-green-600">{score}</p>
                                        </div>
                                        <div>
                                            <p className="text-sm sm:text-base text-gray-600">Incorrect Answers:</p>
                                            <p className="text-xl sm:text-2xl font-bold text-red-600">{questions.length - score}</p>
                                        </div>
                                        <div className="col-span-2">
                                            <p className="text-sm sm:text-base text-gray-600">Accuracy:</p>
                                            <p className="text-xl sm:text-2xl font-bold text-indigo-600">
                                                {Math.round((score / questions.length) * 100)}%
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                
                                <button
                                    onClick={resetQuiz}
                                    className="bg-indigo-600 text-white px-6 sm:px-8 py-3 rounded-lg font-semibold hover:bg-indigo-700 transition flex items-center gap-2 mx-auto text-sm sm:text-base"
                                >
                                    <RotateCcw className="w-5 h-5" />
                                    Take Quiz Again
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            const currentQ = questions[currentQuestion];

            return (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4 md:p-8">
                    <div className="max-w-4xl mx-auto">
                        <div className="bg-white rounded-2xl shadow-2xl p-6 md:p-8">
                            <div className="mb-6">
                                <div className="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-0 mb-4">
                                    <span className="bg-indigo-100 text-indigo-800 px-3 sm:px-4 py-2 rounded-full text-xs sm:text-sm font-semibold">
                                        Question {currentQuestion + 1}/{questions.length}
                                    </span>
                                    <span className="bg-green-100 text-green-800 px-3 sm:px-4 py-2 rounded-full text-xs sm:text-sm font-semibold">
                                        Score: {score}/{questions.length}
                                    </span>
                                </div>
                                
                                <div className="w-full bg-gray-200 rounded-full h-3">
                                    <div
                                        className="bg-indigo-600 h-3 rounded-full transition-all duration-500"
                                        style={{ width: `${((currentQuestion + 1) / questions.length) * 100}%` }}
                                    ></div>
                                </div>
                            </div>

                            <div className="mb-4">
                                <span className={`inline-block px-3 py-1 rounded-full text-xs font-semibold ${
                                    currentQ.type === 'scenario' ? 'bg-purple-100 text-purple-800' :
                                    currentQ.type === 'tricky' ? 'bg-red-100 text-red-800' :
                                    'bg-blue-100 text-blue-800'
                                }`}>
                                    {currentQ.type === 'scenario' ? 'üìû Customer Scenario' :
                                        currentQ.type === 'tricky' ? 'üéØ Tricky Question' :
                                        'üìã Policy Question'}
                                </span>
                            </div>

                            <h2 className="text-xl sm:text-2xl font-bold text-gray-800 mb-6 leading-relaxed">
                                {currentQ.question}
                            </h2>

                            <div className="space-y-3 mb-6">
                                {currentQ.options.map((option, index) => {
                                    const isSelected = selectedAnswer === index;
                                    const isCorrect = index === currentQ.correct;
                                    const showCorrectAnswer = showResult && isCorrect;
                                    const showWrongAnswer = showResult && isSelected && !isCorrect;

                                    return (
                                        <button
                                            key={index}
                                            onClick={() => !showResult && handleAnswer(index)}
                                            disabled={showResult}
                                            className={`w-full p-3 sm:p-4 rounded-xl text-left text-sm sm:text-base transition-all transform hover:scale-102 ${
                                                showCorrectAnswer
                                                    ? 'bg-green-100 border-2 border-green-500 text-green-900'
                                                    : showWrongAnswer
                                                    ? 'bg-red-100 border-2 border-red-500 text-red-900'
                                                    : isSelected
                                                    ? 'bg-indigo-100 border-2 border-indigo-500'
                                                    : 'bg-gray-50 border-2 border-gray-200 hover:border-indigo-300'
                                            } ${showResult ? 'cursor-not-allowed' : 'cursor-pointer'}`}
                                        >
                                            <div className="flex items-center justify-between gap-2">
                                                <span className="font-medium flex-1">{option}</span>
                                                {showCorrectAnswer && <CheckCircle className="w-5 h-5 sm:w-6 sm:h-6 text-green-600 flex-shrink-0" />}
                                                {showWrongAnswer && <XCircle className="w-5 h-5 sm:w-6 sm:h-6 text-red-600 flex-shrink-0" />}
                                            </div>
                                        </button>
                                    );
                                })}
                            </div>

                            {showResult && (
                                <div className={`p-4 sm:p-6 rounded-xl mb-6 ${
                                    selectedAnswer === currentQ.correct
                                        ? 'bg-green-50 border-l-4 border-green-500'
                                        : 'bg-red-50 border-l-4 border-red-500'
                                }`}>
                                    <h3 className="font-bold text-base sm:text-lg mb-2 text-gray-800">
                                        {selectedAnswer === currentQ.correct ? '‚úÖ Correct!' : '‚ùå Incorrect'}
                                    </h3>
                                    <p className="text-sm sm:text-base text-gray-700 leading-relaxed">{currentQ.explanation}</p>
                                </div>
                            )}

                            {showResult && (
                                <button
                                    onClick={handleNext}
                                    className="w-full bg-indigo-600 text-white py-3 sm:py-4 rounded-xl font-semibold text-base sm:text-lg hover:bg-indigo-700 transition transform hover:scale-105"
                                >
                                    {currentQuestion < questions.length - 1 ? 'Next Question ‚Üí' : 'View Results üéâ'}
                                </button>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<QuizApp />);
    </script>
    <!-- –°–∫—Ä–∏–ø—Ç –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è/–≤—ã—Ä–µ–∑–∞–Ω–∏—è/–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é –∏ —Å–æ—á–µ—Ç–∞–Ω–∏–π –∫–ª–∞–≤–∏—à -->
    <script>
        (function() {
            const block = (e) => {
                try { e.preventDefault(); } catch (err) {}
                return false;
            };

            ['copy', 'cut', 'contextmenu', 'selectstart', 'dragstart'].forEach(evt => {
                document.addEventListener(evt, block, { passive: false });
            });

            // –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–µ–ª–µ–∫—Ü–∏–∏ ‚Äî —Å—Ä–∞–∑—É —Å–Ω–∏–º–∞–µ–º –µ—ë (—Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö)
            document.addEventListener('selectionchange', function() {
                try {
                    const sel = document.getSelection();
                    if (sel && sel.rangeCount) sel.removeAllRanges();
                } catch (err) {}
            });

            // –ü–æ –æ–∫–æ–Ω—á–∞–Ω–∏–∏ touch-–æ–ø–µ—Ä–∞—Ü–∏–∏ ‚Äî —Å–Ω–∏–º–∞–µ–º –≤–æ–∑–º–æ–∂–Ω—ã–π –≤—ã–±–æ—Ä
            ['touchend', 'touchcancel', 'touchmove'].forEach(evt => {
                document.addEventListener(evt, function() {
                    try {
                        const sel = document.getSelection();
                        if (sel && sel.rangeCount) sel.removeAllRanges();
                    } catch (err) {}
                }, { passive: true });
            });

            document.addEventListener('keydown', function(e) {
                const key = (e.key || '').toLowerCase();
                // –ë–ª–æ–∫–∏—Ä—É–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–æ—á–µ—Ç–∞–Ω–∏—è –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è/–≤—Å—Ç–∞–≤–∫–∏/–≤—ã–¥–µ–ª–µ–Ω–∏—è/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
                if ((e.ctrlKey || e.metaKey) && (key === 'c' || key === 'x' || key === 'a' || key === 's' || key === 'u' || key === 'p')) {
                    e.preventDefault();
                    e.stopPropagation();
                    return false;
                }

                // –ë–ª–æ–∫–∏—Ä—É–µ–º F12 (–∏–Ω—Å–ø–µ–∫—Ç–æ—Ä) –∏ Ctrl+Shift+I / Ctrl+Shift+J
                if (e.key === 'F12' || ((e.ctrlKey || e.metaKey) && e.shiftKey && (key === 'i' || key === 'j'))) {
                    e.preventDefault();
                    e.stopPropagation();
                    return false;
                }
            }, true);
        })();
    </script>
    <!-- –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤: –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ, –Ω–æ –¥–æ–±–∞–≤–∏–º –º–µ—Ä—ã-–º–∏–Ω–∏–º—É–º—ã -->
    <style>
        /* –í–æ–¥—è–Ω–æ–π –∑–Ω–∞–∫ –∏ –∫–ª–∞—Å—Å —Ä–∞–∑–º—ã—Ç–∏—è –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏ */
        .screenshot-watermark {
            position: fixed;
            right: 12px;
            bottom: 12px;
            z-index: 99999;
            pointer-events: none;
            opacity: 0.12;
            font-size: 12px;
            color: #000;
            background: transparent;
            mix-blend-mode: multiply;
            user-select: none;
            -webkit-user-select: none;
        }

        .app-blurred {
            filter: blur(6px) saturate(0.9);
            transition: filter 180ms ease-in-out;
            -webkit-filter: blur(6px) saturate(0.9);
        }
    </style>

    <div id="screenshot-watermark" class="screenshot-watermark" aria-hidden="true"></div>
    <script>
        (function() {
            // –ü–æ—è—Å–Ω–µ–Ω–∏–µ: –±—Ä–∞—É–∑–µ—Ä–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–µ –º–æ–≥—É—Ç –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –∑–∞–ø—Ä–µ—Ç–∏—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç—ã.
            // –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏: –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—Ç—å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ (—Å–¥–µ–ª–∞–Ω–æ), –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –≤–æ–¥—è–Ω—ã–µ –∑–Ω–∞–∫–∏
            // –∏ –Ω–∞—Ç–∏–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (WebView: FLAG_SECURE –¥–ª—è Android, iOS - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ native).

            const wm = document.getElementById('screenshot-watermark');
            const rootEl = document.getElementById('root');

            function updateWatermark() {
                const now = new Date();
                const ts = now.toLocaleString();
                const ua = (navigator.userAgent || '').split(')')[0] + ')';
                // –ú–æ–∂–Ω–æ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –µ—Å–ª–∏ –µ—Å—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, email –∏–ª–∏ ID),
                // —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –º–µ–Ω–µ–µ –ø—Ä–∏–≥–æ–¥–Ω—ã–º–∏ –¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è.
                const userId = '';
                wm.textContent = (userId ? userId + ' ‚Äî ' : '') + ts + ' ‚Äî ' + ua;
            }

            // –û–±–Ω–æ–≤–ª—è–µ–º —á–∞—Å—Ç–æ, —á—Ç–æ–±—ã –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –±—ã–ª –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Ç–∞–π–º—Å—Ç–µ–º–ø
            updateWatermark();
            setInterval(updateWatermark, 5000);

            // –ü—Ä–∏ —É—Ö–æ–¥–µ —Å–æ –≤–∫–ª–∞–¥–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ pull-down —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π) –∑–∞—Ç–µ–º–Ω—è–µ–º/—Ä–∞–∑–º—ã–≤–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
            document.addEventListener('visibilitychange', function() {
                try {
                    if (document.hidden) {
                        rootEl.classList.add('app-blurred');
                    } else {
                        rootEl.classList.remove('app-blurred');
                        updateWatermark();
                    }
                } catch (err) {}
            });

            // –¢–∞–∫–∂–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö: –µ—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–µ—Ä—è–µ—Ç —Ñ–æ–∫—É—Å (blur), –≤—Ä–µ–º–µ–Ω–Ω–æ —Å–∫—Ä—ã–≤–∞–µ–º –∏–ª–∏ —Ä–∞–∑–º—ã–≤–∞–µ–º
            window.addEventListener('blur', function() {
                try { rootEl.classList.add('app-blurred'); } catch (e) {}
            });
            window.addEventListener('focus', function() {
                try { rootEl.classList.remove('app-blurred'); updateWatermark(); } catch (e) {}
            });

            // –ù–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–≤–µ—Ç—ã: –µ—Å–ª–∏ –≤–∞—à —Å–∞–π—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (WebView):
            // - Android: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ FLAG_SECURE –Ω–∞ Activity (–±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –∏ –∑–∞–ø–∏—Å—å —ç–∫—Ä–∞–Ω–∞).
            // - iOS: –≤ —Ä–æ–¥–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –º–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å UIScreenCapturedDidChangeNotification
            //   –∏ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å (–Ω–æ –ø—Ä—è–º–æ–≥–æ –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –Ω–µ—Ç; –º–æ–∂–Ω–æ —Å–∫—Ä—ã–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –ø—Ä–∏ –∑–∞–ø–∏—Å–∏).
            // –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –¥–ª—è Android/iOS.
        })();
    </script>
</body>
</html>